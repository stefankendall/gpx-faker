#!/usr/bin/env node

var program = require('commander');
var prompt_router = require('../commands/prompt_router');
var google_directions_router = require('../commands/google_directions_router');

program.version('0.0.0')
    .option('-g, --google_directions <url>', 'Create a google directions url')
    .option('-s, --speed <speed>', 'speed to run route')
    .parse(process.argv);

if (program.google_directions) {
    if (!program.speed) {
        console.error("Speed required. Must be 'w', 'b', or 'c'");
        process.exit(1);
    }
    google_directions_router.convert(program.google_directions, program.speed);
}
else {
    prompt_router.run();
}
